<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1D Rubik's Cube</title>
    <link rel="stylesheet" href="puzzle1sorting_styling.css" />
</head>
<body>

<h2 id="page-title">1D Rubik's Cube</h2>

<button id="show-instructions">Hide Instructions</button>

<div id="puzzle-introduction">

<p>

At the start of puzzle, you are given: 
<ol>
    <li><b>n</b>, a customizeable parameter from 4 to 9, inclusive</li>
    <li><b>k</b>, a customizeable parameter from 3 to n-1, inclusive</li>
    <li>a <b>random permutation/arrangement</b> of the numbers <b>[1, 2, 3, ..., n]</b></li>
</ol>
Let us denote this initial random permutation <b>[a_1, a_2, ..., a_n]</b>.

<br> For instance, if the permutation was [2, 3, 1, 4, 5], then a_1 = 2, a_2 = 3, a_3 = 1, a_4 = 4, and a_5 = 5.

<br> You have a total of <b>n-k+1</b> available knobs, where for each integer value of <b>i</b> in the range <b>1 &lt;= i &lt;= n-k+1</b>, turning <b>Knob i</b> to the <b>left</b> will apply a <b>left</b>-cyclic-shift to the sub-array <b>[a_i, a_{i+1}, ..., a_{i+k-1}]</b>:

<br><b>[a_i, a_{i+1}, ..., a_{i+k-1}] => [a_{i+k-1}, a_i, a_{i-1}, ..., a_{i+k-2}]</b>

<br>On the other hand, turning <b>Knob i</b> to the <b>right</b> will apply a <b>right</b>-cyclic-shift to the sub-array <b>[a_i, a_{i+1}, ..., a_{i+k-1}]</b>:

<br><b>[a_i, a_{i+1}, ..., a_{i+k-1}] => [a_{i+1}, a_{i+2}, ..., a_{i+k-1}, a_i] </b>

<br>By default, your goal is to use these moves available from the <b>n-k+1</b> total knobs to revert the starting permutation back to its correct ordering: <b>[1, 2, 3, 4, ..., n]</b>.

<br>If you'd like, you can customize n and k in the puzzle below, and you could also personalize this puzzle by replacing [1, 2, 3, ..., n] with the letters of any n-letter word of your choice!
(It could be your pet's name, your girlfriend's name, or your favorite food, for example.) The same rules still apply => you must execute some move sequences using the given knobs to revert the scrambled word back into the original word that you input.

<h3>Try solving this puzzle in the least number of possible moves! (Scroll down to continue)</h3>

</p>
</div>

<div id="puzzle-display" hidden>


    <div id="puzzle-main-content">
        <div id="number-moves-container">
            <h4>Number of moves so far: 
            <div id="number-moves">0</div>
            </h4>
        </div>

        <div id="current-permutation-container">
            <h2>Current Permutation: </h2>
            <div id="permutation-display"><h3></h3></div>
            <div id="solved-message" hidden>(Solved!)</div>
        </div>

        <div id="knob-container">
        <h5>Your goal: rearrange the permutation to the correct order using the knobs!</h5>
        <div id="knobs" hidden>

        <!--JS injects knobs here-->
        </div>
        </div>

        
    </div>

    <div id="puzzle-controls">
        <div id="puzzle-control-buttons">
        <button id="undo-button">Undo Move</button>

        <button id="scramble-button">New Scramble</button>

        <button id="solve-with-ai-button">Solve with AI</button>

        <button id="redo-button">Redo Move</button>
        </div>
        <div>
            <p>Note: the AI might take a while (1 minute or more) to find the optimal solution. Sometimes it could give a wrong answer./p>
        </div>
        <div id="ai-solution-container" hidden>
            <div id="move-navigation-container">
                <p id="move-sequence-text"><!--inject move sequence into here--></p>
                <div id="move-navigation-button-container">
                    <button id="play-previous-move">
                        Go back one move
                    </button>
                    <button id="play-next-move">
                        Play next move
                    </button>
                </div>
            </div>
            <button id="full-visual-solution">
                Play full step-by-step solution
            </button>
        </div>
    </div>

</div>

<div id="customization-container">
<form id="customization">
    <h2>Customize Your Puzzle: </h2>
    <div class="customization-input">
        <label for="n">Choose permutation length (n): </label>
            <input type="number" id="perm-length-input" name="n" placeholder="5" min="4" max="9" required>
    </div>
    <div class="customization-input">
        <label for="k">Choose window size (k): </label>
            <input type="number" id="window-size-input" name="k" placeholder="3" min="3" max="8" required>
    </div>
    <div class="customization-input">
        <label for="custom-label">Choose custom number labels (enter an unscrambled "base word"): </label>
        <input type="text" id="custom-label-input" name="custom-label" placeholder="FRUIT">
    </div>
    <div class="actions">
        <button type="submit" class="btn" id="submit-button">Start New Game</button>
        <button type="reset" class="btn btn-ghost" id="reset-button">Clear form</button>
    </div>
</form>
</div>



<script src="puzzle1sorting_script.js" defer></script>
</body>


</html>